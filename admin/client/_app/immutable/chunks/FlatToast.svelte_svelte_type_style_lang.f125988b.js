import{w as B}from"./index.e3f73695.js";import{l as _}from"./scheduler.fdc38835.js";function D(u=[]){const e=B(u),{set:n,update:f,subscribe:y}=e;let g={duration:3e3,placement:"bottom-right",type:"info",theme:"dark"};function a(t){const{duration:s=3e3,placement:c="bottom-right",type:x="info",theme:j="dark",...k}={...g,...t},p=Date.now(),l={...k,uid:p,placement:c,type:x,theme:j,duration:s,remove:()=>{f(r=>r.filter(i=>i.uid!==p))},update:r=>{var d;delete r.uid;const i=(d=_(e))==null?void 0:d.findIndex(o=>(o==null?void 0:o.uid)===p);i>-1&&f(o=>[...o.slice(0,i),{...o[i],...r},...o.slice(i+1)])}};return f(r=>[...r,l]),s>0&&setTimeout(()=>{l.remove(),typeof l.onRemove=="function"&&l.onRemove()},s),l}function b(t){var s;return(s=_(e))==null?void 0:s.find(c=>(c==null?void 0:c.uid)===t)}function h(){n([])}function w(){f(t=>t.slice(0,t.length-1))}function T(t){g={...g,...t}}return{subscribe:y,add:a,success:m("success",a),info:m("info",a),error:m("error",a),warning:m("warning",a),clearAll:h,clearLast:w,getById:b,setDefaults:T}}const A=D([]);function m(u,e){return function(){if(typeof arguments[0]=="object"){const n=arguments[0];return e({...n,type:u})}else if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){const n=arguments[2]||{};return e({...n,type:u,title:arguments[0],description:arguments[1]})}else if(typeof arguments[0]=="string"){const n=arguments[1]||{};return e({...n,type:u,description:arguments[0]})}}}export{A as t};
