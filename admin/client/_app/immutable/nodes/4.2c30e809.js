import{s as X,n as Q,r as we,b as ce,m as de}from"../chunks/scheduler.fdc38835.js";import{S as le,i as ne,g as w,r as M,s as V,h as y,j as C,u as Z,c as T,I as ie,f as m,k as p,a as z,v as J,C as f,d as N,t as R,w as G,e as K,p as Y,b as x,m as U,n as O,F as oe,o as W,J as pe,B as ye}from"../chunks/index.fdeae3e0.js";import{e as ae,u as Ee,d as Ce}from"../chunks/each.a0137068.js";import{F as re,c as Ne,d as De,e as Ie,g as Re}from"../chunks/fa.e788405d.js";import{I as je}from"../chunks/Image.c7f928ad.js";function Ae(o){let e,t,a,r,s,l="Create a new product",i,n,g;return t=new re({props:{class:"mx-auto text-4xl text-indigo-600",icon:Ne,stroke:"currentColor","aria-hidden":"true"}}),n=new re({props:{icon:De,class:"text-center text-xl text-indigo-600"}}),{c(){e=w("a"),M(t.$$.fragment),a=V(),r=w("div"),s=w("span"),s.textContent=l,i=V(),M(n.$$.fragment),this.h()},l(d){e=y(d,"A",{href:!0,type:!0,class:!0});var _=C(e);Z(t.$$.fragment,_),a=T(_),r=y(_,"DIV",{class:!0});var u=C(r);s=y(u,"SPAN",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-yyzr19"&&(s.textContent=l),i=T(u),Z(n.$$.fragment,u),u.forEach(m),_.forEach(m),this.h()},h(){p(s,"class","mt-2 block text-sm font-medium text-gray-900"),p(r,"class","flex flex-row justify-center items-center"),p(e,"href","products/create"),p(e,"type","button"),p(e,"class","relative block w-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500")},m(d,_){z(d,e,_),J(t,e,null),f(e,a),f(e,r),f(r,s),f(r,i),J(n,r,null),g=!0},p:Q,i(d){g||(N(t.$$.fragment,d),N(n.$$.fragment,d),g=!0)},o(d){R(t.$$.fragment,d),R(n.$$.fragment,d),g=!1},d(d){d&&m(e),G(t),G(n)}}}class Se extends le{constructor(e){super(),ne(this,e,null,Ae,X,{})}}function ge(o,e,t){const a=o.slice();return a[9]=e[t],a[11]=t,a}function _e(o){let e,t,a,r,s,l,i,n,g,d,_,u=[],j=new Map,v,$,A,B,F,D,h,E,I,c,k,L;a=new re({props:{icon:Ie}});let S=ae(Array(o[4]));const H=b=>b[11];for(let b=0;b<S.length;b+=1){let P=ge(o,S,b),q=H(P);j.set(q,u[b]=he(q,P))}return A=new re({props:{icon:Re}}),{c(){e=w("nav"),t=w("button"),M(a.$$.fragment),s=V(),l=w("span"),i=U("Load previous "),n=U(o[2]),g=U(" rows"),d=V(),_=w("div");for(let b=0;b<u.length;b+=1)u[b].c();v=V(),$=w("button"),M(A.$$.fragment),F=V(),D=w("span"),h=U("Load next "),E=U(o[2]),I=U(" rows"),this.h()},l(b){e=y(b,"NAV",{class:!0});var P=C(e);t=y(P,"BUTTON",{"aria-label":!0,"aria-describedby":!0});var q=C(t);Z(a.$$.fragment,q),q.forEach(m),s=T(P),l=y(P,"SPAN",{id:!0,class:!0});var ee=C(l);i=O(ee,"Load previous "),n=O(ee,o[2]),g=O(ee," rows"),ee.forEach(m),d=T(P),_=y(P,"DIV",{class:!0});var ue=C(_);for(let se=0;se<u.length;se+=1)u[se].l(ue);ue.forEach(m),v=T(P),$=y(P,"BUTTON",{"aria-label":!0,"aria-describedby":!0});var fe=C($);Z(A.$$.fragment,fe),fe.forEach(m),F=T(P),D=y(P,"SPAN",{id:!0,class:!0});var te=C(D);h=O(te,"Load next "),E=O(te,o[2]),I=O(te," rows"),te.forEach(m),P.forEach(m),this.h()},h(){t.disabled=r=o[0]===0,p(t,"aria-label","left arrow icon"),p(t,"aria-describedby","prev"),p(l,"id","prev"),p(l,"class","sr-only"),p(_,"class","overflow-x-auto whitespace-nowrap max-w-full flex justify-center items-center gap-2"),$.disabled=B=o[0]===o[4]-1,p($,"aria-label","right arrow icon"),p($,"aria-describedby","next"),p(D,"id","next"),p(D,"class","sr-only"),p(e,"class","flex justify-center items-center gap-2")},m(b,P){z(b,e,P),f(e,t),J(a,t,null),f(e,s),f(e,l),f(l,i),f(l,n),f(l,g),f(e,d),f(e,_);for(let q=0;q<u.length;q+=1)u[q]&&u[q].m(_,null);f(e,v),f(e,$),J(A,$,null),f(e,F),f(e,D),f(D,h),f(D,E),f(D,I),c=!0,k||(L=[oe(t,"click",o[6]),oe($,"click",o[8])],k=!0)},p(b,P){(!c||P&1&&r!==(r=b[0]===0))&&(t.disabled=r),(!c||P&4)&&W(n,b[2]),P&57&&(S=ae(Array(b[4])),u=Ee(u,P,H,1,b,S,j,_,Ce,he,null,ge)),(!c||P&17&&B!==(B=b[0]===b[4]-1))&&($.disabled=B),(!c||P&4)&&W(E,b[2])},i(b){c||(N(a.$$.fragment,b),N(A.$$.fragment,b),c=!0)},o(b){R(a.$$.fragment,b),R(A.$$.fragment,b),c=!1},d(b){b&&m(e),G(a);for(let P=0;P<u.length;P+=1)u[P].d();G(A),k=!1,we(L)}}}function he(o,e){let t,a,r=e[11]+1+"",s,l,i,n,g,d,_;function u(){return e[7](e[11])}return{key:o,first:null,c(){t=w("button"),a=w("p"),s=U(r),l=V(),this.h()},l(j){t=y(j,"BUTTON",{class:!0,"aria-label":!0,"aria-describedby":!0});var v=C(t);a=y(v,"P",{});var $=C(a);s=O($,r),$.forEach(m),l=T(v),v.forEach(m),this.h()},h(){p(t,"class",i=`px-2 rounded-full ${e[5](e[11])&&"bg-indigo-700"}`),t.disabled=n=!!e[5](e[11]),p(t,"aria-label",g=`page number ${e[11]}`),p(t,"aria-describedby","next"),this.first=t},m(j,v){z(j,t,v),f(t,a),f(a,s),f(t,l),d||(_=oe(t,"click",u),d=!0)},p(j,v){e=j,v&16&&r!==(r=e[11]+1+"")&&W(s,r),v&16&&i!==(i=`px-2 rounded-full ${e[5](e[11])&&"bg-indigo-700"}`)&&p(t,"class",i),v&16&&n!==(n=!!e[5](e[11]))&&(t.disabled=n),v&16&&g!==(g=`page number ${e[11]}`)&&p(t,"aria-label",g)},d(j){j&&m(t),d=!1,_()}}}function me(o){let e,t,a=o[1]&&o[1]>o[2]&&_e(o);return{c(){a&&a.c(),e=K()},l(r){a&&a.l(r),e=K()},m(r,s){a&&a.m(r,s),z(r,e,s),t=!0},p(r,s){r[1]&&r[1]>r[2]?a?(a.p(r,s),s&6&&N(a,1)):(a=_e(r),a.c(),N(a,1),a.m(e.parentNode,e)):a&&(Y(),R(a,1,1,()=>{a=null}),x())},i(r){t||(N(a),t=!0)},o(r){R(a),t=!1},d(r){r&&m(e),a&&a.d(r)}}}function Ve(o){let e=o[0],t,a,r=me(o);return{c(){r.c(),t=K()},l(s){r.l(s),t=K()},m(s,l){r.m(s,l),z(s,t,l),a=!0},p(s,[l]){l&1&&X(e,e=s[0])?(Y(),R(r,1,1,Q),x(),r=me(s),r.c(),N(r,1),r.m(t.parentNode,t)):r.p(s,l)},i(s){a||(N(r),a=!0)},o(s){R(r),a=!1},d(s){s&&m(t),r.d(s)}}}function Te(o,e,t){let a,{totalRows:r=0}=e,{perPage:s=0}=e,{currentPage:l=1}=e,{loadPage:i}=e;function n(u){return u===l}const g=()=>{t(0,l-=1),i()},d=u=>{t(0,l=u),i()},_=()=>{t(0,l+=1),i()};return o.$$set=u=>{"totalRows"in u&&t(1,r=u.totalRows),"perPage"in u&&t(2,s=u.perPage),"currentPage"in u&&t(0,l=u.currentPage),"loadPage"in u&&t(3,i=u.loadPage)},o.$$.update=()=>{o.$$.dirty&6&&t(4,a=Math.ceil(r/s)),o.$$.dirty&1},[l,r,s,i,a,n,g,d,_]}class be extends le{constructor(e){super(),ne(this,e,Te,Ve,X,{totalRows:1,perPage:2,currentPage:0,loadPage:3})}}function ve(o){let e,t=o[0].description+"",a;return{c(){e=w("p"),a=U(t),this.h()},l(r){e=y(r,"P",{class:!0});var s=C(e);a=O(s,t),s.forEach(m),this.h()},h(){p(e,"class","text-sm text-gray-500 text-ellipsis overflow-hidden w-64")},m(r,s){z(r,e,s),f(e,a)},p(r,s){s&1&&t!==(t=r[0].description+"")&&W(a,t)},d(r){r&&m(e)}}}function Le(o){let e,t,a,r,s,l,i,n,g,d=o[0].name.toUpperCase()+"",_,u,j,v,$=o[0].price+"",A,B,F,D;a=new je({props:{image:"http://localhost:3000/"+o[0].thumbnail}});let h=o[0].description&&ve(o);return{c(){e=w("a"),t=w("div"),M(a.$$.fragment),r=V(),s=w("div"),l=w("div"),i=w("h3"),n=w("span"),g=V(),_=U(d),u=V(),h&&h.c(),j=V(),v=w("p"),A=U($),B=U(" DZD"),this.h()},l(E){e=y(E,"A",{href:!0,class:!0});var I=C(e);t=y(I,"DIV",{class:!0});var c=C(t);Z(a.$$.fragment,c),c.forEach(m),r=T(I),s=y(I,"DIV",{class:!0});var k=C(s);l=y(k,"DIV",{class:!0});var L=C(l);i=y(L,"H3",{class:!0});var S=C(i);n=y(S,"SPAN",{"aria-hidden":!0,class:!0}),C(n).forEach(m),g=T(S),_=O(S,d),S.forEach(m),u=T(L),h&&h.l(L),L.forEach(m),j=T(k),v=y(k,"P",{class:!0});var H=C(v);A=O(H,$),B=O(H," DZD"),H.forEach(m),k.forEach(m),I.forEach(m),this.h()},h(){p(t,"class","w-full aspect-w-1 aspect-h-1 overflow-hidden group-hover:opacity-75"),p(n,"aria-hidden","true"),p(n,"class","absolute inset-0"),p(i,"class","text-sm text-gray-700"),p(l,"class","w-full flex flex-col justify-between items-start"),p(v,"class","text-sm font-medium text-gray-900"),p(s,"class","flex flex-row justify-between p-2"),p(e,"href",F=`/products/${o[0].id}`),p(e,"class","bg-slate-300 w-80 h-96 relative rounded-xl hover:transform hover:scale-105 transition-transform")},m(E,I){z(E,e,I),f(e,t),J(a,t,null),f(e,r),f(e,s),f(s,l),f(l,i),f(i,n),f(i,g),f(i,_),f(l,u),h&&h.m(l,null),f(s,j),f(s,v),f(v,A),f(v,B),D=!0},p(E,[I]){const c={};I&1&&(c.image="http://localhost:3000/"+E[0].thumbnail),a.$set(c),(!D||I&1)&&d!==(d=E[0].name.toUpperCase()+"")&&W(_,d),E[0].description?h?h.p(E,I):(h=ve(E),h.c(),h.m(l,null)):h&&(h.d(1),h=null),(!D||I&1)&&$!==($=E[0].price+"")&&W(A,$),(!D||I&1&&F!==(F=`/products/${E[0].id}`))&&p(e,"href",F)},i(E){D||(N(a.$$.fragment,E),D=!0)},o(E){R(a.$$.fragment,E),D=!1},d(E){E&&m(e),G(a),h&&h.d()}}}function Be(o,e,t){let{product:a}=e;return o.$$set=r=>{"product"in r&&t(0,a=r.product)},[a]}class Ue extends le{constructor(e){super(),ne(this,e,Be,Le,X,{product:0})}}function $e(o,e,t){const a=o.slice();return a[9]=e[t],a}function Oe(o){let e,t="Loading...";return{c(){e=w("p"),e.textContent=t},l(a){e=y(a,"P",{"data-svelte-h":!0}),ie(e)!=="svelte-qdsr2u"&&(e.textContent=t)},m(a,r){z(a,e,r)},p:Q,i:Q,o:Q,d(a){a&&m(e)}}}function ze(o){let e,t,a="Products",r,s,l,i,n,g,d,_,u=o[1],j,v,$,A,B;s=new Se({});function F(c){o[6](c)}let D={totalRows:o[2],perPage:o[4],loadPage:o[0]};o[3]!==void 0&&(D.currentPage=o[3]),n=new be({props:D}),ce.push(()=>pe(n,"currentPage",F));let h=Pe(o);function E(c){o[7](c)}let I={totalRows:o[2],perPage:o[4],loadPage:o[0]};return o[3]!==void 0&&(I.currentPage=o[3]),$=new be({props:I}),ce.push(()=>pe($,"currentPage",E)),{c(){e=w("section"),t=w("h2"),t.textContent=a,r=V(),M(s.$$.fragment),l=V(),i=w("div"),M(n.$$.fragment),d=V(),_=w("div"),h.c(),j=V(),v=w("div"),M($.$$.fragment),this.h()},l(c){e=y(c,"SECTION",{"aria-labelledby":!0});var k=C(e);t=y(k,"H2",{id:!0,class:!0,"data-svelte-h":!0}),ie(t)!=="svelte-1fsm2z7"&&(t.textContent=a),r=T(k),Z(s.$$.fragment,k),l=T(k),i=y(k,"DIV",{class:!0});var L=C(i);Z(n.$$.fragment,L),L.forEach(m),d=T(k),_=y(k,"DIV",{class:!0});var S=C(_);h.l(S),S.forEach(m),j=T(k),v=y(k,"DIV",{class:!0});var H=C(v);Z($.$$.fragment,H),H.forEach(m),k.forEach(m),this.h()},h(){p(t,"id","related-heading"),p(t,"class","text-lg font-medium text-gray-900"),p(i,"class","p-6"),p(_,"class","flex flex-wrap justify-evenly justify-items-start gap-4 mt-4"),p(v,"class","p-6"),p(e,"aria-labelledby","related-heading")},m(c,k){z(c,e,k),f(e,t),f(e,r),J(s,e,null),f(e,l),f(e,i),J(n,i,null),f(e,d),f(e,_),h.m(_,null),f(e,j),f(e,v),J($,v,null),B=!0},p(c,k){const L={};k&4&&(L.totalRows=c[2]),!g&&k&8&&(g=!0,L.currentPage=c[3],de(()=>g=!1)),n.$set(L),k&2&&X(u,u=c[1])?(Y(),R(h,1,1,Q),x(),h=Pe(c),h.c(),N(h,1),h.m(_,null)):h.p(c,k);const S={};k&4&&(S.totalRows=c[2]),!A&&k&8&&(A=!0,S.currentPage=c[3],de(()=>A=!1)),$.$set(S)},i(c){B||(N(s.$$.fragment,c),N(n.$$.fragment,c),N(h),N($.$$.fragment,c),B=!0)},o(c){R(s.$$.fragment,c),R(n.$$.fragment,c),R(h),R($.$$.fragment,c),B=!1},d(c){c&&m(e),G(s),G(n),h.d(c),G($)}}}function ke(o){let e,t;return e=new Ue({props:{product:o[9]}}),{c(){M(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,r){J(e,a,r),t=!0},p(a,r){const s={};r&2&&(s.product=a[9]),e.$set(s)},i(a){t||(N(e.$$.fragment,a),t=!0)},o(a){R(e.$$.fragment,a),t=!1},d(a){G(e,a)}}}function Pe(o){let e,t,a=ae(o[1]),r=[];for(let l=0;l<a.length;l+=1)r[l]=ke($e(o,a,l));const s=l=>R(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=K()},l(l){for(let i=0;i<r.length;i+=1)r[i].l(l);e=K()},m(l,i){for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(l,i);z(l,e,i),t=!0},p(l,i){if(i&2){a=ae(l[1]);let n;for(n=0;n<a.length;n+=1){const g=$e(l,a,n);r[n]?(r[n].p(g,i),N(r[n],1)):(r[n]=ke(g),r[n].c(),N(r[n],1),r[n].m(e.parentNode,e))}for(Y(),n=a.length;n<r.length;n+=1)s(n);x()}},i(l){if(!t){for(let i=0;i<a.length;i+=1)N(r[i]);t=!0}},o(l){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)R(r[i]);t=!1},d(l){l&&m(e),ye(r,l)}}}function Fe(o){let e,t,a,r;const s=[ze,Oe],l=[];function i(n,g){return n[1]!==void 0?0:1}return e=i(o),t=l[e]=s[e](o),{c(){t.c(),a=K()},l(n){t.l(n),a=K()},m(n,g){l[e].m(n,g),z(n,a,g),r=!0},p(n,[g]){let d=e;e=i(n),e===d?l[e].p(n,g):(Y(),R(l[d],1,1,()=>{l[d]=null}),x(),t=l[e],t?t.p(n,g):(t=l[e]=s[e](n),t.c()),N(t,1),t.m(a.parentNode,a))},i(n){r||(N(t),r=!0)},o(n){R(t),r=!1},d(n){n&&m(a),l[e].d(n)}}}function qe(o,e,t){let{data:a}=e,{products:r}=a,[s,l]=r,i=s.length,n=0;async function g(){const u=await fetch(`http://localhost:3000/api/v1/products?page=${n+1}&pageSize=9`);return t(1,[s,l]=await u.json(),s,t(2,l)),{products:r}}function d(u){n=u,t(3,n)}function _(u){n=u,t(3,n)}return o.$$set=u=>{"data"in u&&t(5,a=u.data)},[g,s,l,n,i,a,d,_]}class Ke extends le{constructor(e){super(),ne(this,e,qe,Fe,X,{data:5,loadPage:0})}get loadPage(){return this.$$.ctx[0]}}export{Ke as component};
