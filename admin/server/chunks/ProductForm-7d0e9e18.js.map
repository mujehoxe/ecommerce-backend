{"version":3,"file":"ProductForm-7d0e9e18.js","sources":["../../../.svelte-kit/adapter-node/chunks/ProductForm.js"],"sourcesContent":["import { c as create_ssr_component, f as add_attribute, v as validate_component, b as escape, e as each, k as add_classes } from \"./ssr.js\";\nimport { faPlus, faSearch, faCheck } from \"@fortawesome/free-solid-svg-icons\";\nimport { F as Fa } from \"./fa.js\";\nimport \"devalue\";\nimport { I as Image } from \"./Image.js\";\nconst AddImage = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { id } = $$props;\n  let imageFile = \"Aucun fichier choisi\";\n  if ($$props.id === void 0 && $$bindings.id && id !== void 0)\n    $$bindings.id(id);\n  return `<div${add_attribute(\"id\", id, 0)} class=\"rounded-md h-[5rem] min-w-[5rem] overflow-hidden\"><div class=\"max-w-lg flex justify-center p-4 border-2 border-gray-300 border-dashed rounded-md\"><div class=\"space-y-1 text-center\">${validate_component(Fa, \"Fa\").$$render(\n    $$result,\n    {\n      class: \"m-auto text-slate-500\",\n      icon: faPlus\n    },\n    {},\n    {}\n  )} <div class=\"flex text-sm text-gray-600\"><label${add_attribute(\"for\", \"images-\" + id, 0)} class=\"relative m-auto w-24 line-clamp-2 truncate cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\"><span class=\"overflow-hidden\">${escape(imageFile)}</span> <input${add_attribute(\"id\", \"images-\" + id, 0)} name=\"images\" type=\"file\" accept=\".jpg, .jpeg, .png\" class=\"sr-only\"></label></div></div></div></div>`;\n});\nconst Combo = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { selectedItem } = $$props;\n  let query = selectedItem?.name;\n  let { items } = $$props;\n  let filteredItems = [];\n  const updateFilteredItems = () => {\n    filteredItems = query === \"\" ? [] : items.filter((item) => {\n      return item.name.toLowerCase().includes(query?.toLowerCase());\n    });\n  };\n  function isItemSelected(item) {\n    return item?.name === selectedItem?.name;\n  }\n  if ($$props.selectedItem === void 0 && $$bindings.selectedItem && selectedItem !== void 0)\n    $$bindings.selectedItem(selectedItem);\n  if ($$props.items === void 0 && $$bindings.items && items !== void 0)\n    $$bindings.items(items);\n  {\n    updateFilteredItems();\n  }\n  return `<div class=\"space-y-4\"><div class=\"relative mt-1\"><input type=\"text\" class=\"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm\"${add_attribute(\"value\", query ? query : \"\", 0)} placeholder=\"Search or select an item\"> <div class=\"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none\">${validate_component(Fa, \"Fa\").$$render(\n    $$result,\n    {\n      icon: faSearch,\n      class: \"h-5 w-5 text-gray-400\",\n      \"aria-hidden\": \"true\"\n    },\n    {},\n    {}\n  )}</div> ${filteredItems.length > 0 ? `<ul class=\"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm\">${each(filteredItems, (item) => {\n    return `<li class=\"${[\n      \"relative cursor-pointer select-none py-2 pl-8 pr-4\",\n      isItemSelected(item) ? \"bg-indigo-700\" : \"\"\n    ].join(\" \").trim()}\"><span${add_classes((isItemSelected(item) ? \"font-semibold\" : \"\").trim())}>${escape(item.name)}</span> ${isItemSelected(item) ? `${validate_component(Fa, \"Fa\").$$render(\n      $$result,\n      {\n        icon: faCheck,\n        class: \"absolute m-auto inset-y-0 left-0 flex items-center pl-1.5\",\n        \"aria-hidden\": \"true\"\n      },\n      {},\n      {}\n    )}` : ``} </li>`;\n  })}</ul>` : ``}</div></div>`;\n});\nconst ProductForm = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { product } = $$props;\n  let { categories } = $$props;\n  let { action } = $$props;\n  let thumbnailFile = \"Aucun fichier choisi\";\n  if ($$props.product === void 0 && $$bindings.product && product !== void 0)\n    $$bindings.product(product);\n  if ($$props.categories === void 0 && $$bindings.categories && categories !== void 0)\n    $$bindings.categories(categories);\n  if ($$props.action === void 0 && $$bindings.action && action !== void 0)\n    $$bindings.action(action);\n  return `<h3 class=\"text-lg leading-6 font-medium text-gray-900\" data-svelte-h=\"svelte-11w5x3s\">Produit</h3> <form class=\"space-y-8 divide-y divide-gray-200\" method=\"post\"${add_attribute(\"action\", `?/${action}`, 0)} enctype=\"multipart/form-data\"><div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\"><label class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\" for=\"name\" data-svelte-h=\"svelte-1akg9ml\">Nom de produit</label> <div class=\"mt-1 sm:mt-0 sm:col-span-2\"><input type=\"text\" name=\"name\" class=\"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"${add_attribute(\"value\", product.name, 0)}></div></div> <div class=\"mt-6 sm:mt-5 space-y-6 sm:space-y-5\"><div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\"><label for=\"description\" class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\" data-svelte-h=\"svelte-lqlf1i\">Description</label> <div class=\"mt-1 sm:mt-0 sm:col-span-2\"><textarea rows=\"3\" name=\"description\" class=\"max-w-lg shadow-sm block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md\" placeholder=\"Quelques phrases sur le produit...\">${escape(product.description, false)}</textarea></div></div> <div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\"><label for=\"category\" class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\" data-svelte-h=\"svelte-ner1fo\">Category</label> ${validate_component(Combo, \"Combo\").$$render(\n    $$result,\n    {\n      selectedItem: product.category,\n      items: categories\n    },\n    {},\n    {}\n  )}</div> <div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\"><label for=\"price\" class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\" data-svelte-h=\"svelte-1sze20u\">Prix</label> <div class=\"mt-1 sm:mt-0 sm:col-span-2\"><input type=\"number\" name=\"price\" class=\"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\" min=\"0\" step=\"0.01\"${add_attribute(\"value\", product.price, 0)}></div></div> <div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\"><label class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\" for=\"percentage\" data-svelte-h=\"svelte-ge2ffc\">Promotion</label> <div class=\"mt-1 sm:mt-0 sm:col-span-2\"><input type=\"number\" name=\"percentage\" class=\"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\" step=\"1\" min=\"0\" max=\"100\"${add_attribute(\"value\", product.percentage, 0)}></div></div> <div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\"><label for=\"quantity\" class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\" data-svelte-h=\"svelte-1fg0xt4\">Quantity</label> <div class=\"mt-1 sm:mt-0 sm:col-span-2\"><input type=\"number\" name=\"quantity\" class=\"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\" step=\"1\" min=\"0\"${add_attribute(\"value\", product.quantity, 0)}></div></div> <div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-center sm:border-t sm:border-gray-200 sm:pt-5\"><label for=\"thumbnail\" class=\"block text-sm font-medium text-gray-700\" data-svelte-h=\"svelte-rtx2w3\">Image principale</label> <div class=\"mt-1 sm:mt-0 sm:col-span-2\"><div class=\"flex gap-2 items-center\"><span class=\"h-52 w-52 rounded-xl overflow-hidden bg-gray-100\">${validate_component(Image, \"Image\").$$render(\n    $$result,\n    {\n      image: \"http://localhost:3000/\" + product.thumbnail\n    },\n    {},\n    {}\n  )}</span> <input type=\"file\" class=\"ml-5\" accept=\".jpg, .jpeg, .png\" style=\"display: none;\" name=\"thumbnail\" id=\"thumbnail\"> <div class=\"flex flex-col w-56 p-4 overflow-hidden items-start\"><label class=\"bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer\" for=\"thumbnail\" data-svelte-h=\"svelte-24qyme\">Changer</label> <p class=\"truncate w-full text-ellipsis overflow-hidden text-left\">${escape(thumbnailFile)}</p></div></div></div></div> <div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\"><label for=\"other-images\" class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\" data-svelte-h=\"svelte-bykwxb\">Autres Images</label> <div class=\"flex flex-row gap-2\">${product.images ? `${each(product.images, (image, index) => {\n    return `${image ? `<div class=\"rounded-md h-[5rem] min-w-[5rem] overflow-hidden\">${validate_component(Image, \"Image\").$$render($$result, { image: \"http://localhost:3000/\" + image }, {}, {})} </div>` : `${validate_component(AddImage, \"AddImage\").$$render($$result, { id: index }, {}, {})}`}`;\n  })}` : ``}</div></div></div> <div class=\"pt-5\"><div class=\"flex justify-end\"><button type=\"button\" class=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\" data-svelte-h=\"svelte-1ou0jem\">Cancel</button> <button type=\"submit\" class=\"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">${`Metre a jour`}</button></div></div></form>`;\n});\nexport {\n  ProductForm as P\n};\n"],"names":[],"mappings":"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"}