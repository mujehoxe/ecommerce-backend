{"version":3,"file":"_page.svelte-8273e26d.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/products/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, v as validate_component, b as escape, e as each, f as add_attribute } from \"../../../chunks/ssr.js\";\nimport { faCubes, faPlus, faCaretLeft, faCaretRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { F as Fa } from \"../../../chunks/fa.js\";\nimport { I as Image } from \"../../../chunks/Image.js\";\nconst CreateProduct = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<a href=\"products/create\" type=\"button\" class=\"relative block w-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">${validate_component(Fa, \"Fa\").$$render(\n    $$result,\n    {\n      class: \"mx-auto text-4xl text-indigo-600\",\n      icon: faCubes,\n      stroke: \"currentColor\",\n      \"aria-hidden\": \"true\"\n    },\n    {},\n    {}\n  )} <div class=\"flex flex-row justify-center items-center\"><span class=\"mt-2 block text-sm font-medium text-gray-900\" data-svelte-h=\"svelte-yyzr19\">Create a new product</span> ${validate_component(Fa, \"Fa\").$$render(\n    $$result,\n    {\n      icon: faPlus,\n      class: \"text-center text-xl text-indigo-600\"\n    },\n    {},\n    {}\n  )}</div></a>`;\n});\nconst Pagination = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let totalPages;\n  let { totalRows = 0 } = $$props;\n  let { perPage = 0 } = $$props;\n  let { currentPage = 1 } = $$props;\n  let { loadPage } = $$props;\n  function isPageSelected(page) {\n    return page === currentPage;\n  }\n  if ($$props.totalRows === void 0 && $$bindings.totalRows && totalRows !== void 0)\n    $$bindings.totalRows(totalRows);\n  if ($$props.perPage === void 0 && $$bindings.perPage && perPage !== void 0)\n    $$bindings.perPage(perPage);\n  if ($$props.currentPage === void 0 && $$bindings.currentPage && currentPage !== void 0)\n    $$bindings.currentPage(currentPage);\n  if ($$props.loadPage === void 0 && $$bindings.loadPage && loadPage !== void 0)\n    $$bindings.loadPage(loadPage);\n  totalPages = Math.ceil(totalRows / perPage);\n  return `${totalRows && totalRows > perPage ? `<nav class=\"flex justify-center items-center gap-2\"><button ${(currentPage === 0 ? true : false) ? \"disabled\" : \"\"} aria-label=\"left arrow icon\" aria-describedby=\"prev\">${validate_component(Fa, \"Fa\").$$render($$result, { icon: faCaretLeft }, {}, {})}</button> <span id=\"prev\" class=\"sr-only\">Load previous ${escape(perPage)} rows</span> <div class=\"overflow-x-auto whitespace-nowrap max-w-full flex justify-center items-center gap-2\">${each(Array(totalPages), (_, index) => {\n    return `<button${add_attribute(\"class\", `px-2 rounded-full ${isPageSelected(index) && \"bg-indigo-700\"}`, 0)} ${(isPageSelected(index) ? true : false) ? \"disabled\" : \"\"}${add_attribute(\"aria-label\", `page number ${index}`, 0)} aria-describedby=\"next\"><p>${escape(index + 1)}</p> </button>`;\n  })}</div> <button ${(currentPage === totalPages - 1 ? true : false) ? \"disabled\" : \"\"} aria-label=\"right arrow icon\" aria-describedby=\"next\">${validate_component(Fa, \"Fa\").$$render($$result, { icon: faCaretRight }, {}, {})}</button> <span id=\"next\" class=\"sr-only\">Load next ${escape(perPage)} rows</span></nav>` : ``}`;\n});\nconst ProductCard = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { product } = $$props;\n  if ($$props.product === void 0 && $$bindings.product && product !== void 0)\n    $$bindings.product(product);\n  return `<a${add_attribute(\"href\", `/products/${product.id}`, 0)} class=\"bg-slate-300 w-80 h-96 relative rounded-xl hover:transform hover:scale-105 transition-transform\"><div class=\"w-full aspect-w-1 aspect-h-1 overflow-hidden group-hover:opacity-75\">${validate_component(Image, \"Image\").$$render(\n    $$result,\n    {\n      image: \"http://localhost:3000/\" + product.thumbnail\n    },\n    {},\n    {}\n  )}</div> <div class=\"flex flex-row justify-between p-2\"><div class=\"w-full flex flex-col justify-between items-start\"><h3 class=\"text-sm text-gray-700\"><span aria-hidden=\"true\" class=\"absolute inset-0\"></span> ${escape(product.name.toUpperCase())}</h3> ${product.description ? `<p class=\"text-sm text-gray-500 text-ellipsis overflow-hidden w-64\">${escape(product.description)}</p>` : ``}</div> <p class=\"text-sm font-medium text-gray-900\">${escape(product.price)} DZD</p></div></a>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  let { products } = data;\n  let [pageProducts, totalRows] = products;\n  let perPage = pageProducts.length;\n  let currentPage = 0;\n  async function loadPage() {\n    const res = await fetch(`http://localhost:3000/api/v1/products?page=${currentPage + 1}&pageSize=9`);\n    [pageProducts, totalRows] = await res.json();\n    return { products };\n  }\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  if ($$props.loadPage === void 0 && $$bindings.loadPage && loadPage !== void 0)\n    $$bindings.loadPage(loadPage);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    $$rendered = `${pageProducts !== void 0 ? `<section aria-labelledby=\"related-heading\"><h2 id=\"related-heading\" class=\"text-lg font-medium text-gray-900\" data-svelte-h=\"svelte-1fsm2z7\">Products</h2> ${validate_component(CreateProduct, \"CreateProduct\").$$render($$result, {}, {}, {})} <div class=\"p-6\">${validate_component(Pagination, \"Pagination\").$$render(\n      $$result,\n      {\n        totalRows,\n        perPage,\n        loadPage,\n        currentPage\n      },\n      {\n        currentPage: ($$value) => {\n          currentPage = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}</div> <div class=\"flex flex-wrap justify-evenly justify-items-start gap-4 mt-4\">${each(pageProducts, (product) => {\n      return `${validate_component(ProductCard, \"ProductCard\").$$render($$result, { product }, {}, {})}`;\n    })}</div> <div class=\"p-6\">${validate_component(Pagination, \"Pagination\").$$render(\n      $$result,\n      {\n        totalRows,\n        perPage,\n        loadPage,\n        currentPage\n      },\n      {\n        currentPage: ($$value) => {\n          currentPage = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}</div></section>` : `<p data-svelte-h=\"svelte-qdsr2u\">Loading...</p>`}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}